import { PrismaService } from '../prisma/prisma.service';
import { LoggerService } from '../common/logger/logger.service';
import { CreateScheduledTaskDto, UpdateScheduledTaskDto } from './dtos/scheduled-task.dto';
export declare class ScheduledTaskService {
    private readonly prisma;
    private readonly logger;
    constructor(prisma: PrismaService, logger: LoggerService);
    create(userId: string, dto: CreateScheduledTaskDto): Promise<{
        category: string;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        userId: string;
        frequency: string;
        amount: number;
        accountId: string;
        description: string | null;
        startDate: Date;
        endDate: Date | null;
        dayOfMonth: number | null;
        dayOfWeek: number | null;
        monthOfYear: number | null;
        executeTime: string;
        isEnabled: boolean;
        lastRunAt: Date | null;
        nextRunAt: Date | null;
        runCount: number;
    }>;
    findAll(userId: string): Promise<{
        category: string;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        userId: string;
        frequency: string;
        amount: number;
        accountId: string;
        description: string | null;
        startDate: Date;
        endDate: Date | null;
        dayOfMonth: number | null;
        dayOfWeek: number | null;
        monthOfYear: number | null;
        executeTime: string;
        isEnabled: boolean;
        lastRunAt: Date | null;
        nextRunAt: Date | null;
        runCount: number;
    }[]>;
    findOne(userId: string, id: string): Promise<{
        category: string;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        userId: string;
        frequency: string;
        amount: number;
        accountId: string;
        description: string | null;
        startDate: Date;
        endDate: Date | null;
        dayOfMonth: number | null;
        dayOfWeek: number | null;
        monthOfYear: number | null;
        executeTime: string;
        isEnabled: boolean;
        lastRunAt: Date | null;
        nextRunAt: Date | null;
        runCount: number;
    }>;
    update(userId: string, id: string, dto: UpdateScheduledTaskDto): Promise<{
        category: string;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        userId: string;
        frequency: string;
        amount: number;
        accountId: string;
        description: string | null;
        startDate: Date;
        endDate: Date | null;
        dayOfMonth: number | null;
        dayOfWeek: number | null;
        monthOfYear: number | null;
        executeTime: string;
        isEnabled: boolean;
        lastRunAt: Date | null;
        nextRunAt: Date | null;
        runCount: number;
    }>;
    delete(userId: string, id: string): Promise<{
        success: boolean;
    }>;
    toggle(userId: string, id: string): Promise<{
        category: string;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        userId: string;
        frequency: string;
        amount: number;
        accountId: string;
        description: string | null;
        startDate: Date;
        endDate: Date | null;
        dayOfMonth: number | null;
        dayOfWeek: number | null;
        monthOfYear: number | null;
        executeTime: string;
        isEnabled: boolean;
        lastRunAt: Date | null;
        nextRunAt: Date | null;
        runCount: number;
    }>;
    getPendingTasks(): Promise<{
        category: string;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        userId: string;
        frequency: string;
        amount: number;
        accountId: string;
        description: string | null;
        startDate: Date;
        endDate: Date | null;
        dayOfMonth: number | null;
        dayOfWeek: number | null;
        monthOfYear: number | null;
        executeTime: string;
        isEnabled: boolean;
        lastRunAt: Date | null;
        nextRunAt: Date | null;
        runCount: number;
    }[]>;
    executeTask(taskId: string): Promise<{
        success: boolean;
        recordId: string;
    }>;
    getTaskLogs(userId: string, taskId: string, limit?: number): Promise<{
        id: string;
        message: string | null;
        status: string;
        taskId: string;
        recordId: string | null;
        executedAt: Date;
    }[]>;
    private calculateNextRunTime;
    private calculateNextRunTimeFromTask;
    private calculateNextFromNow;
    private adjustToFrequency;
}
